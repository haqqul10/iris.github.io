<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- favicon -->
  <link rel="shortcut icon" href="images/icons/FavIcon.svg">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="libraries/bootstrap/css/bootstrap.min.css">

  <!-- MyCSS -->
  <link rel="stylesheet" href="styles/proxy.css">

  <!-- <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css"> -->

  <title>Proxy</title>

  <style>
    .section-loader {
      min-height: 100vh;
      background: rgba(9, 4, 35,0.7);
      animation: changeBg 5s linear infinite; 
      position: absolute;
      z-index: 99;
      width: 100%;
    }

    .loader img {
      position: absolute;
      width: 150px;
      height: 150px;
      animation: rotate 2s linear infinite;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      margin: auto;
    }

    @keyframes rotate {
      to {
        transform: rotate(360deg);
      }
    }
    @media screen and (max-width: 576px) {
      .loader img{
        width: 100px;
        height: 100px;
      }
    }
  </style>
</head>

<body class="dashboard" style="overflow-x: hidden; overflow-y: hidden;">
  <div class="section-loader">
    <div class="loader">
      <img src="./images/loading/Loading.svg" alt="">
    </div>
  </div>

  <div id="overlay"></div>

  <!-- halaman navbar -->
  <nav class="navbar navbar-dashboard navbar-expand-lg navbar-dark">
    <div class="container">
      <div class="menu-toggle">
        <input type="checkbox" />
        <span></span>
        <span></span>
        <span></span>
      </div>
      <a class="navbar-brand" href="#">
        <img src="images/icons/Logo.svg" alt="Iris" width="80" class="logo_deskstop">
        <img src="images/newhomepage/Logo_responsive.svg" alt="Iris" class="logo_responsive">
      </a>
      <!-- <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button> -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <img src="images/icons/Logo.svg" alt="Iris" width="80" class="logo_collapse">
        <img src="./images/icons/Icon-delete.svg" alt="" class="icon__delete__responsive">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item">
            <a class="nav-link" href="dashboard.html"><img src="images/icons/home.svg" alt="" width="24" class="pb-1">
              <span>Dashboard</span> </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="task.html"> <img src="images/icons/task.svg" alt="" width="24" class="pb-1">
              <span>Task</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="releases.html"> <img src="images/icons/realise.svg" alt="" width="24"
                class="pb-1"> <span>Releases</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="proxy.html"> <img src="images/icons/Icon=Proxy.svg" alt="" width="24"
                class="pb-1">
              <span>Proxies</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="profile.html"> <img src="images/icons/Icon_profile.svg" alt="" width="24"
                class="pb-1"> <span>Profile</span></a>
          </li>
          <a href="" class="nav-link text-white my__profile__collapse">
            <div class="rounded_profile">
              <img class="profile_img" src="images/icons/Profile_Icon.svg" alt="" width="49" class="pe-2"> 
            </div>
            <span class="profile_name">-</span>
          </a>
          <div class="nav-link icon_notification_collapse">
            <img src="images/icons/Icon=Notification.svg" alt="" width="25" class="icon_notification_hover pb-1">
            <div class="table__notification">
              <div class="header__notification">
                <p class="header">Notification <span>(4)</span></p>
                <a href="">
                  <img src="./images/icons/Icon-delete.svg" alt="" width="24px" height="24px">
                </a>
              </div>
              <hr>
              <a href="" class="data__items">
                <div class="left float-start">
                  <img src="./images/icons/Group 703.png" alt="" width="48" class="float-start">
                  <div class="title float-start">
                    <p class="title__judul">Nike</p>
                    <p class="title__text">Today, 24 june</p>
                  </div>
                </div>
                <div class="right float-end">
                  <p>Succesfully checkout</p>
                </div>
              </a>
              <hr class="garis__items">
              <a href="" class="data__items">
                <div class="left float-start">
                  <img src="./images/icons/Group 703.png" alt="" width="48" class="float-start">
                  <div class="title float-start">
                    <p class="title__judul">Nike</p>
                    <p class="title__text">Today, 24 june</p>
                  </div>
                </div>
                <div class="right float-end">
                  <p>Succesfully checkout</p>
                </div>
              </a>
              <hr class="garis__items">
              <a href="" class="view__all">View All</a>
            </div>
          </div>
        </ul>
      </div>
      <div class="nav-link icon_notification">
        <img src="images/icons/Icon=Notification.svg" alt="" width="25" class="icon_notification_hover pb-1">
        <div class="table__notification">
          <div class="header__notification">
            <p class="header">Notification <span>(4)</span></p>
            <a href="">
              <img src="./images/icons/Icon-delete.svg" alt="" width="24px" height="24px">
            </a>
          </div>
          <hr>
          <a href="" class="data__items">
            <div class="left float-start">
              <img src="./images/icons/Group 703.png" alt="" width="48" class="float-start">
              <div class="title float-end">
                <p class="title__judul">Nike</p>
                <p class="title__text">Today, 24 june</p>
              </div>
            </div>
            <div class="right float-end">
              <p>Succesfully checkout</p>
            </div>
          </a>
          <hr class="garis__items">
          <a href="" class="data__items">
            <div class="left float-start">
              <img src="./images/icons/Group 703.png" alt="" width="48" class="float-start">
              <div class="title float-end">
                <p class="title__judul">Nike</p>
                <p class="title__text">Today, 24 june</p>
              </div>
            </div>
            <div class="right float-end">
              <p>Succesfully checkout</p>
            </div>
          </a>
          <hr class="garis__items">
          <a href="" class="data__items">
            <div class="left float-start">
              <img src="./images/icons/Group 703.png" alt="" width="48" class="float-start">
              <div class="title float-end">
                <p class="title__judul">Nike</p>
                <p class="title__text">Today, 24 june</p>
              </div>
            </div>
            <div class="right float-end">
              <p>waiting list</p>
            </div>
          </a>
          <hr class="garis__items">
          <a href="" class="data__items">
            <div class="left float-start">
              <img src="./images/icons/Group 703.png" alt="" width="48" class="float-start">
              <div class="title float-end">
                <p class="title__judul">Nike</p>
                <p class="title__text">Today, 24 june</p>
              </div>
            </div>
            <div class="right float-end">
              <p>Succesfully checkout</p>
            </div>
          </a>
          <hr class="garis__items">
          <a href="" class="view__all">View All</a>
        </div>
      </div>
      <a href="" class="nav-link text-white my__profile">
        <div class="rounded_profile">
          <img class="profile_img" src="images/icons/Profile_Icon.svg" alt="" width="49" class="pe-2"> 
        </div>
        <span class="profile_name">-</span>
      </a>
      <!-- </div> -->
    </div>
  </nav>
  <!-- akhir halaman navbar -->

  <!-- Card -->
  <section class="card-dashboard">
    <div class="container">
      <div class="row">
        <div class="col-12 text-white">
          <h2>Proxy</h2>
          <p>Proxy Information in Here</p>
        </div>
        <!-- <div class="col-12 col-md-7 col-lg-4 d-flex flex-right">
          <div class="new__task">
            <a href="" class="btn btn-newtask">Test All</a>
          </div>
        </div> -->
      </div>
    </div>
  </section>
  <!-- akhir Card -->

  <section class="profile">
    <div class="container">
      <div class="row justify-content-around">
        <div class="col-11 col-lg-4 your-profile-left">
          <div class="row judul-profile">
            <div class="col-12 col-md-6 my-auto">
              <p class="text-white">Your Proxy</p>
            </div>
            <div class="col-12 col-md-6">
              <form class="form__search">
                <img src="./images/icons/search.svg" alt="">
                <input class="form-control" id="search_proxy" type="search" placeholder="Search Proxy"
                  aria-label="Search">
                <label for="search-home" class="form-label"></label>
              </form>
            </div>
          </div>
          <div class="row table-profile">
            <div class="col">
              <div class="scroll">
                <table class="table text-white" class="">
                  <thead style="background-color: #33275C; border-radius: 6px;">
                    <tr>
                      <th>Proxy List</th>
                      <th>Amount</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody id="my_proxy"></tbody>
                </table>
              </div>
              <div class="action-knob text-center">
                <a href="" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Create
                  New Group</a>
                <a href="" class="btn btn-danger">Delete All</a>
              </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Create Group</h5>
                    <a href="" data-bs-dismiss="modal" aria-label="Close"><img src="images/icons/Icon-delete.svg" alt=""
                        width="24"></a>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form class="row text-white pt-4">
                      <div class="col-12">
                        <label for="details" class="form-label">Group Name</label>
                        <div class="gradien__form">
                          <input type="text" class="form-control" id="details" placeholder="Group Name">
                          <span></span>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer mx-auto">
                    <a href="" class=" btn add__new__task"> Add Group </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- akhir modal -->

          </div>
        </div>
        <div class="col-11 col-lg-8 your-profile-right">
          <div class="row profile-information">
            <!-- profile information left -->
            <div class="col-12 col-md-12 col-lg-12 profile-information-left" id="header_group_details"></div>
            <!-- akhir profile information left -->

            <!-- Modal Proxy -->
            <div class="modal fade" id="proxyModal" tabindex="-1" aria-labelledby="proxyModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add Proxy</h5>
                    <a href="" data-bs-dismiss="modal" aria-label="Close"><img src="images/icons/Icon-delete.svg" alt=""
                        width="24"></a>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form class="row text-white pt-4">
                      <div class="col-6 col-md-6">
                        <label for="IP" class="form-label">IP</label>
                        <div class="gradien__form">
                          <input type="text" class="form-control" id="IP" placeholder="IP">
                          <span></span>
                        </div>
                      </div>
                      <div class="col-6 col-md-6">
                        <label for="port" class="form-label">Port</label>
                        <div class="gradien__form">
                          <input type="text" class="form-control" id="port" placeholder="Port">
                          <span></span>
                        </div>
                      </div>
                      <div class="col-6 col-md-6">
                        <label for="username" class="form-label">Username</label>
                        <div class="gradien__form">
                          <input type="text" class="form-control" id="username" placeholder="Username">
                          <span></span>
                        </div>
                      </div>
                      <div class="col-6 col-md-6">
                        <label for="password" class="form-label">Password</label>
                        <div class="gradien__form">
                          <input type="password" class="form-control" id="password" placeholder="Password">
                          <span></span>
                        </div>
                      </div>
                      <div class="col-12">
                        <!-- <hr class="hr__or"> -->
                        <div class="hr__or">
                          <span>OR</span>
                        </div>
                      </div>
                      <div class="mt-2">
                        <label for="detail" class="form-label">Detail</label>
                        <div class="gradien__form">
                          <textarea class="form-control text__area__gradien" id="detail" rows="4"
                            placeholder="Details"></textarea>
                          <span></span>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer mx-auto">
                    <a href="" class="btn add__new__task"> Add New Proxy </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- akhir modal -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- footer -->
  <footer class="mt-5">
    <div class="container">
      <div class="row justify-content-between text-white">
        <div class="col">
          <p>&copy;2021 - Iris. <span>All Rights Reserved</span></p>
        </div>
        <div class="col d-flex justify-content-end">
          <a href="" class="pe-4">Status</a>
          <a href="">Support</a>
        </div>
      </div>
    </div>
  </footer>
  <!-- akhir footer -->


  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="libraries/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="libraries/jquery/jquery-3.5.1.js"></script>

  <script src="scripts/main.js"></script>
  <!-- <script src="./libraries/bootstrap/js/bootstrap.min.js"></script> -->
  <!-- <script src="libraries/jquery/jquery.dataTables.min.js"></script> -->
  <!-- <script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap.min.js"></script> -->
  <!-- <script src="libraries/jquery/dataTables.bootstrap5.min.js"></script> -->

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->

  <!-- Retrieve API -->
  <script>
    $.ajax({
      type: "GET",
      url: "https://irisbot.io/api/test/proxies",
      success: (result) => {
        $('#my_proxy').empty();
        $('#header_group_details').empty();

        $('#header_group_details').append(`
          <div class="d-flex justify-content-between align-items-center">
            <p class="text-white">Group Details</p>
            <a href="" class="btn btn-primary add__proxy" data-bs-toggle="modal" data-bs-target="#proxyModal">Add
              Proxy</a>
          </div>
          <div id="collapsed_proxy"></div>
        `);

        $.each(result.groups, (index, value) => {
          if(index === 0){
            $('#my_proxy').append(`
              <tr data-bs-toggle="collapse" data-bs-target="#step_${index}" aria-expanded="true"
                  aria-controls="collapseExample">
                  <td data-label="Proxy List" class="text-white">${value.name}</td>
                  <td data-label="Amount" class="amound amount_proxy_${value.group_id}">0</td>
                  <td data-label="Action">
                    <a href=""> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                        fill="none">
                        <path d="M2.5 5H4.16667H17.5" stroke="#BBB9C5" stroke-width="1.5" stroke-linecap="round"
                          stroke-linejoin="round" />
                        <path
                          d="M6.66663 5.00002V3.33335C6.66663 2.89133 6.84222 2.4674 7.15478 2.15484C7.46734 1.84228 7.89127 1.66669 8.33329 1.66669H11.6666C12.1087 1.66669 12.5326 1.84228 12.8451 2.15484C13.1577 2.4674 13.3333 2.89133 13.3333 3.33335V5.00002M15.8333 5.00002V16.6667C15.8333 17.1087 15.6577 17.5326 15.3451 17.8452C15.0326 18.1578 14.6087 18.3334 14.1666 18.3334H5.83329C5.39127 18.3334 4.96734 18.1578 4.65478 17.8452C4.34222 17.5326 4.16663 17.1087 4.16663 16.6667V5.00002H15.8333Z"
                          stroke="#BBB9C5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M8.33337 9.16669V14.1667" stroke="#BBB9C5" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M11.6666 9.16669V14.1667" stroke="#BBB9C5" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round" />
                      </svg> </a>
                  </td>
                </tr>
            `);

            $('#collapsed_proxy').append(`
              <div class="collapse fade show " id="step_${index}">
                <div class="alert alert__proxy" role="alert">
                  <p class="alert__title">${value.name}</p>
                  <div class="d-flex align-items-center">
                    <p class="alert__title_text"><span class="amount_proxy_${value.group_id}">0</span> Proxies</p>
                    <div class="form-check form-switch">
                      <input class="form-check-input checkBoxSwitch" type="checkbox" id="checkBoxSwitch${index}">
                      <label class="form-check-label switch" for="checkBoxSwitch${index}" id="switch">Hide <img
                          src="./images/icons/Icon=Eye-Off.svg" alt=""></label>
                    </div>
                  </div>
                </div>
                <p class="proxy__list">Proxy List</p>
                <table class="table text-white" id="scroll-proxy" class="" style="width:100%;">
                  <thead>
                    <tr>
                      <th>IP</th>
                      <th>Port</th>
                      <th>Username</th>
                      <th>Password</th>
                      <th>Ping</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody id="list_proxy_${value.group_id}"></tbody>
                </table>
                <div class="action-knob text-center">
                  <a href="" class="btn btn-primary">Test All</a>
                  <a href="" class="btn btn-danger">Delete All</a>
                </div>
              </div>
            `);
          }else{
            $('#my_proxy').append(`
              <tr data-bs-toggle="collapse" data-bs-target="#step_${index}" aria-expanded="false"
                  aria-controls="collapseExample" class="collapsed">
                  <td data-label="Proxy List" class="text-white">${value.name}</td>
                  <td data-label="Amount" class="amound amount_proxy_${value.group_id}">0</td>
                  <td data-label="Action">
                    <a href=""> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                        fill="none">
                        <path d="M2.5 5H4.16667H17.5" stroke="#BBB9C5" stroke-width="1.5" stroke-linecap="round"
                          stroke-linejoin="round" />
                        <path
                          d="M6.66663 5.00002V3.33335C6.66663 2.89133 6.84222 2.4674 7.15478 2.15484C7.46734 1.84228 7.89127 1.66669 8.33329 1.66669H11.6666C12.1087 1.66669 12.5326 1.84228 12.8451 2.15484C13.1577 2.4674 13.3333 2.89133 13.3333 3.33335V5.00002M15.8333 5.00002V16.6667C15.8333 17.1087 15.6577 17.5326 15.3451 17.8452C15.0326 18.1578 14.6087 18.3334 14.1666 18.3334H5.83329C5.39127 18.3334 4.96734 18.1578 4.65478 17.8452C4.34222 17.5326 4.16663 17.1087 4.16663 16.6667V5.00002H15.8333Z"
                          stroke="#BBB9C5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M8.33337 9.16669V14.1667" stroke="#BBB9C5" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M11.6666 9.16669V14.1667" stroke="#BBB9C5" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round" />
                      </svg> </a>
                  </td>
                </tr>
            `);

            $('#collapsed_proxy').append(`
              <div class="collapse fade" id="step_${index}">
                <div class="alert alert__proxy" role="alert">
                  <p class="alert__title">${value.name}</p>
                  <div class="d-flex align-items-center">
                    <p class="alert__title_text"><span class="amount_proxy_${value.group_id}">0</span> Proxies</p>
                    <div class="form-check form-switch">
                      <input class="form-check-input checkBoxSwitch" type="checkbox" id="checkBoxSwitch${index}">
                      <label class="form-check-label switch" for="checkBoxSwitch${index}" id="switch">Hide <img
                          src="./images/icons/Icon=Eye-Off.svg" alt=""></label>
                    </div>
                  </div>
                </div>
                <p class="proxy__list">Proxy List</p>
                <table class="table text-white" id="example" class="" style="width:100%;">
                  <thead>
                    <tr>
                      <th>IP</th>
                      <th>Port</th>
                      <th>Username</th>
                      <th>Password</th>
                      <th>Ping</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody id="list_proxy_${value.group_id}"></tbody>
                </table>
                <div class="action-knob text-center">
                  <a href="" class="btn btn-primary">Test All</a>
                  <a href="" class="btn btn-danger">Delete All</a>
                </div>
              </div>
            `);
          }

          if(index === result.groups.length - 1){
            $('.collapse').on('show.bs.collapse', function (e) {
              var btnCollapse = $(e.relatedTarget);
              $('.collapse').collapse('hide')
            })
          }
        })

        $.each(result.proxies, (index, value) => {
          let amount_proxy = (parseInt($(`.amount_proxy_${value.group}`)[0].innerHTML) + 1);
          $(`.amount_proxy_${value.group}`).text(amount_proxy);

          let popover_content = `
              <div class="top">Test <a href=""><img src="./images/icons/icon_play_proxy.svg" class=""></a>
              </div> <hr>
              <div class="buttom">Delete <a href=""><img src="./images/icons/icon_delete_proxy.svg" class=""></a>
              </div>`;

          $('#list_proxy_'+value.group).append(`
            <tr>
              <td data-label="IP" class="text-white ip__address">${value.ip}</td>
              <td data-label="Port" class="text-white">${value.port}</td>
              <td data-label="Username">${value.username}</td>
              <td data-label="Password">
                <span class="password" id="password" data-password="${value.password}">
                  &bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull; </span>
              </td>
              <td data-label="Ping">${value.ping}</td>
              <td data-label="Action">
                <button type="button" class="action__proxy" data-bs-container="body" data-bs-toggle="popover"
                  data-bs-placement="top" data-bs-content='${popover_content}'>
                  <img src="./images/icons/more-horizontal-proxy.svg" alt="" class="more__horizontal__proxy">
                </button>
              </td>
            </tr>
          `);

          if(index === result.proxies.length - 1){
            $('.dashboard').css('overflow-y', 'scroll');
            $('.section-loader').hide();
            openCheckboxSwitch();
            openPopOver();
          }
        })

        if(result.proxies.length === 0){
          $('.dashboard').css('overflow-y', 'scroll');
          $('.section-loader').hide();
          openCheckboxSwitch();
          openPopOver();
        }
      },
      error: () => {
        $('.dashboard').css('overflow-y', 'scroll');
        $('.section-loader').hide();
        openCheckboxSwitch();
        openPopOver();
      }
    })
  </script>

  <script>
    async function openPopOver(){
      var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
      var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl, {
          html: true,
        })
      });
  
      $('body').on('click', function (e) {
        $('[data-bs-toggle="popover"]').each(function () {
          // hide any open popovers when the anywhere else in the body is clicked
          if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target)
            .length === 0) {
            $(this).popover('hide');
          }
        }); 
      });

      $('#scroll-proxy').scroll(function (e) {
        $('[data-bs-toggle="popover"]').each(function () {
          // hide any open popovers when the anywhere else in the body is clicked
          if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target)
            .length === 0) {
            $(this).popover('hide');
          }
        });
      });
    }

    async function openCheckboxSwitch(){
      var checkBoxSwitch = $('.checkBoxSwitch');
      checkBoxSwitch.each((index_cbs, value_cbs) => {
        $(value_cbs).on('change', function () {
          if ($(this).is(':checked')) {
            $('.switch').html('Show <img src="./images/icons/Icon=Eye.svg" alt="">');
            $(value_cbs).parent().parent().parent().siblings('.table').find('span.password').each((index_cbs2,
              value_cbs2) => {
              var password = $(value_cbs2).data('password');
              $(value_cbs2).text(password);
              $(value_cbs2).css('font-size', '14px');
            })
          } else {
            $('.switch').html('Hide <img src="./images/icons/Icon=Eye-Off.svg" alt="">');
            $(value_cbs).parent().parent().parent().siblings('.table').find('span.password').each((index_cbs3,
              value_cbs3) => {
              $(value_cbs3).html('&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;');
              $(value_cbs3).removeAttr('style');
            })
          }
        });
      })
    }

    // search
    $("#search_proxy").on("keyup", function () {
      // alert($(".table-profile .table tbody tr"));
      $(".table-profile .table tbody tr").filter(function () {
        $(this).toggle($(this).text().toLowerCase().indexOf($("#search_proxy").val().toLowerCase()) > -1);
      });
    });

    // animation humberger
    $(document).ready(function () {

      const menuToggle = document.querySelector('.menu-toggle input');
      const nav = document.querySelector('.navbar-collapse');
      const delete_icon = document.querySelector('.icon__delete__responsive');
      const overlay_modal = document.querySelector('#overlay');


      menuToggle.addEventListener('click', function () {
        nav.classList.toggle('show');
        document.getElementById("overlay").style.display = "block";
      });
      delete_icon.addEventListener('click', function () {
        nav.classList.remove('show');
        document.getElementById("overlay").style.display = "none";
      });
      overlay_modal.addEventListener('click', function () {
        document.getElementById('overlay').style.display = "none";
        nav.classList.remove('show');
      });
    });
  </script>
</body>

</html>